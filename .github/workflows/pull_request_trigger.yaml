name: Pull Request Trigger
on:
  pull_request:
    types:
      - opened
      - closed
jobs:
  # Adds newly created issues onto project board in the default column 'New Issue Approval'
  # unless overridden when issue has "LA website bot" in title, then 'Questions / In Review'
  Add-Comment-To-Prework-Issue: # Only trigger this action when an issue is newly created
    if: ${{ github.event_name == 'pull_request' && (github.event.action == 'opened' || github.event.action == 'closed')}}
    permissions:
      issues: write
    uses: partapparam/evalApi/.github/workflows/reusable_comment_workflow.yaml@master
# TODO: https://docs.github.com/en/actions/learn-github-actions/contexts#about-contexts

#   action: 'opened',
#   number: 19,
#   pull_request: {
#     _links: {
#       comments: [Object],
#       commits: [Object],
#       html: [Object],
#       issue: [Object],
#       review_comment: [Object],
#       review_comments: [Object],
#       self: [Object],
#       statuses: [Object]
#     },
#     active_lock_reason: null,
#     additions: 0,
#     assignee: null,
#     assignees: [],
#     author_association: 'OWNER',
#     auto_merge: null,
#     base: {
#       label: 'partapparam:master',
#       ref: 'master',
#       repo: [Object],
#       sha: '415efaf1e77b301c7ae902aa4ff3ab3f74075a41',
#       user: [Object]
#     },
#     body: null,
#     changed_files: 2,
#     closed_at: null,
#     comments: 0,
#     comments_url: 'https://api.github.com/repos/partapparam/evalApi/issues/19/comments',
#     commits: 2,
#     commits_url: 'https://api.github.com/repos/partapparam/evalApi/pulls/19/commits',
#     created_at: '2024-05-14T00:43:17Z',
#     deletions: 6,
#     diff_url: 'https://github.com/partapparam/evalApi/pull/19.diff',
#     draft: false,
#     head: {
#       label: 'partapparam:add-triggers',
#       ref: 'add-triggers',
#       repo: [Object],
#       sha: '4709eb83e89c9283a86e4cc45896ace276bd3223',
#       user: [Object]
#     },
#     html_url: 'https://github.com/partapparam/evalApi/pull/19',
#     id: 1867779301,
#     issue_url: 'https://api.github.com/repos/partapparam/evalApi/issues/19',
#     labels: [],
#     locked: false,
#     maintainer_can_modify: false,
#     merge_commit_sha: null,
#     mergeable: null,
#     mergeable_state: 'unknown',
#     merged: false,
#     merged_at: null,
#     merged_by: null,
#     milestone: null,
#     node_id: 'PR_kwDOJyGIJc5vVAzl',
#     number: 19,
#     patch_url: 'https://github.com/partapparam/evalApi/pull/19.patch',
#     rebaseable: null,
#     requested_reviewers: [],
#     requested_teams: [],
#     review_comment_url: 'https://api.github.com/repos/partapparam/evalApi/pulls/comments{/number}',
#     review_comments: 0,
#     review_comments_url: 'https://api.github.com/repos/partapparam/evalApi/pulls/19/comments',
#     state: 'open',
#     statuses_url: 'https://api.github.com/repos/partapparam/evalApi/statuses/4709eb83e89c9283a86e4cc45896ace276bd3223',
#     title: 'Add triggers',
#     updated_at: '2024-05-14T00:43:17Z',
#     url: 'https://api.github.com/repos/partapparam/evalApi/pulls/19',
#     user: {
#       avatar_url: 'https://avatars.githubusercontent.com/u/24577323?v=4',
#       events_url: 'https://api.github.com/users/partapparam/events{/privacy}',
#       followers_url: 'https://api.github.com/users/partapparam/followers',
#       following_url: 'https://api.github.com/users/partapparam/following{/other_user}',
#       gists_url: 'https://api.github.com/users/partapparam/gists{/gist_id}',
#       gravatar_id: '',
#       html_url: 'https://github.com/partapparam',
#       id: 24577323,
#       login: 'partapparam',
#       node_id: 'MDQ6VXNlcjI0NTc3MzIz',
#       organizations_url: 'https://api.github.com/users/partapparam/orgs',
#       received_events_url: 'https://api.github.com/users/partapparam/received_events',
#       repos_url: 'https://api.github.com/users/partapparam/repos',
#       site_admin: false,
#       starred_url: 'https://api.github.com/users/partapparam/starred{/owner}{/repo}',
#       subscriptions_url: 'https://api.github.com/users/partapparam/subscriptions',
#       type: 'User',
#       url: 'https://api.github.com/users/partapparam'
#     }
#   },
#   repository: {
#     allow_forking: true,
#     archive_url: 'https://api.github.com/repos/partapparam/evalApi/{archive_format}{/ref}',
#     archived: false,
#     assignees_url: 'https://api.github.com/repos/partapparam/evalApi/assignees{/user}',
#     blobs_url: 'https://api.github.com/repos/partapparam/evalApi/git/blobs{/sha}',
#     branches_url: 'https://api.github.com/repos/partapparam/evalApi/branches{/branch}',
#     clone_url: 'https://github.com/partapparam/evalApi.git',
#     collaborators_url: 'https://api.github.com/repos/partapparam/evalApi/collaborators{/collaborator}',
#     comments_url: 'https://api.github.com/repos/partapparam/evalApi/comments{/number}',
#     commits_url: 'https://api.github.com/repos/partapparam/evalApi/commits{/sha}',
#     compare_url: 'https://api.github.com/repos/partapparam/evalApi/compare/{base}...{head}',
#     contents_url: 'https://api.github.com/repos/partapparam/evalApi/contents/{+path}',
#     contributors_url: 'https://api.github.com/repos/partapparam/evalApi/contributors',
#     created_at: '2023-06-21T05:08:50Z',
#     default_branch: 'master',
#     deployments_url: 'https://api.github.com/repos/partapparam/evalApi/deployments',
#     description: 'Node/Express API for Eval - Where Service Providers Can Rate Homeowners',
#     disabled: false,
#     downloads_url: 'https://api.github.com/repos/partapparam/evalApi/downloads',
#     events_url: 'https://api.github.com/repos/partapparam/evalApi/events',
#     fork: false,
#     forks: 0,
#     forks_count: 0,
#     forks_url: 'https://api.github.com/repos/partapparam/evalApi/forks',
#     full_name: 'partapparam/evalApi',
#     git_commits_url: 'https://api.github.com/repos/partapparam/evalApi/git/commits{/sha}',
#     git_refs_url: 'https://api.github.com/repos/partapparam/evalApi/git/refs{/sha}',
#     git_tags_url: 'https://api.github.com/repos/partapparam/evalApi/git/tags{/sha}',
#     git_url: 'git://github.com/partapparam/evalApi.git',
#     has_discussions: false,
#     has_downloads: true,
#     has_issues: true,
#     has_pages: false,
#     has_projects: true,
#     has_wiki: false,
#     homepage: 'https://eval-app.com/',
#     hooks_url: 'https://api.github.com/repos/partapparam/evalApi/hooks',
#     html_url: 'https://github.com/partapparam/evalApi',
#     id: 656508965,
#     is_template: false,
#     issue_comment_url: 'https://api.github.com/repos/partapparam/evalApi/issues/comments{/number}',
#     issue_events_url: 'https://api.github.com/repos/partapparam/evalApi/issues/events{/number}',
#     issues_url: 'https://api.github.com/repos/partapparam/evalApi/issues{/number}',
#     keys_url: 'https://api.github.com/repos/partapparam/evalApi/keys{/key_id}',
#     labels_url: 'https://api.github.com/repos/partapparam/evalApi/labels{/name}',
#     language: 'JavaScript',
#     languages_url: 'https://api.github.com/repos/partapparam/evalApi/languages',
#     license: null,
#     merges_url: 'https://api.github.com/repos/partapparam/evalApi/merges',
#     milestones_url: 'https://api.github.com/repos/partapparam/evalApi/milestones{/number}',
#     mirror_url: null,
#     name: 'evalApi',
#     node_id: 'R_kgDOJyGIJQ',
#     notifications_url: 'https://api.github.com/repos/partapparam/evalApi/notifications{?since,all,participating}',
#     open_issues: 3,
#     open_issues_count: 3,
#     owner: {
#       avatar_url: 'https://avatars.githubusercontent.com/u/24577323?v=4',
#       events_url: 'https://api.github.com/users/partapparam/events{/privacy}',
#       followers_url: 'https://api.github.com/users/partapparam/followers',
#       following_url: 'https://api.github.com/users/partapparam/following{/other_user}',
#       gists_url: 'https://api.github.com/users/partapparam/gists{/gist_id}',
#       gravatar_id: '',
#       html_url: 'https://github.com/partapparam',
#       id: 24577323,
#       login: 'partapparam',
#       node_id: 'MDQ6VXNlcjI0NTc3MzIz',
#       organizations_url: 'https://api.github.com/users/partapparam/orgs',
#       received_events_url: 'https://api.github.com/users/partapparam/received_events',
#       repos_url: 'https://api.github.com/users/partapparam/repos',
#       site_admin: false,
#       starred_url: 'https://api.github.com/users/partapparam/starred{/owner}{/repo}',
#       subscriptions_url: 'https://api.github.com/users/partapparam/subscriptions',
#       type: 'User',
#       url: 'https://api.github.com/users/partapparam'
#     },
#     private: false,
#     pulls_url: 'https://api.github.com/repos/partapparam/evalApi/pulls{/number}',
#     pushed_at: '2024-05-14T00:43:17Z',
#     releases_url: 'https://api.github.com/repos/partapparam/evalApi/releases{/id}',
#     size: 157,
#     ssh_url: 'git@github.com:partapparam/evalApi.git',
#     stargazers_count: 0,
#     stargazers_url: 'https://api.github.com/repos/partapparam/evalApi/stargazers',
#     statuses_url: 'https://api.github.com/repos/partapparam/evalApi/statuses/{sha}',
#     subscribers_url: 'https://api.github.com/repos/partapparam/evalApi/subscribers',
#     subscription_url: 'https://api.github.com/repos/partapparam/evalApi/subscription',
#     svn_url: 'https://github.com/partapparam/evalApi',
#     tags_url: 'https://api.github.com/repos/partapparam/evalApi/tags',
#     teams_url: 'https://api.github.com/repos/partapparam/evalApi/teams',
#     topics: [],
#     trees_url: 'https://api.github.com/repos/partapparam/evalApi/git/trees{/sha}',
#     updated_at: '2024-05-14T00:39:49Z',
#     url: 'https://api.github.com/repos/partapparam/evalApi',
#     visibility: 'public',
#     watchers: 0,
#     watchers_count: 0,
#     web_commit_signoff_required: false
#   },
#   sender: {
#     avatar_url: 'https://avatars.githubusercontent.com/u/24577323?v=4',
#     events_url: 'https://api.github.com/users/partapparam/events{/privacy}',
#     followers_url: 'https://api.github.com/users/partapparam/followers',
#     following_url: 'https://api.github.com/users/partapparam/following{/other_user}',
#     gists_url: 'https://api.github.com/users/partapparam/gists{/gist_id}',
#     gravatar_id: '',
#     html_url: 'https://github.com/partapparam',
#     id: 24577323,
#     login: 'partapparam',
#     node_id: 'MDQ6VXNlcjI0NTc3MzIz',
#     organizations_url: 'https://api.github.com/users/partapparam/orgs',
#     received_events_url: 'https://api.github.com/users/partapparam/received_events',
#     repos_url: 'https://api.github.com/users/partapparam/repos',
#     site_admin: false,
#     starred_url: 'https://api.github.com/users/partapparam/starred{/owner}{/repo}',
#     subscriptions_url: 'https://api.github.com/users/partapparam/subscriptions',
#     type: 'User',
#     url: 'https://api.github.com/users/partapparam'
#   }
# }
